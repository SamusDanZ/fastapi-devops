{% extends "base.html" %}

{% block title %}Puntuaciones{% endblock %}
{% block brand_sub %}Puntuaciones de la comunidad{% endblock %}

{% block content %}
  <div class="container stack">
    <section class="card stack">
      <h1>Puntuaciones de usuarios</h1>
      <p>Consulta lo que otros usuarios han valorado.</p>

      {% if valoraciones and valoraciones|length > 0 %}
        <table class="table">
          <thead>
            <tr>
              <th>Usuario</th>
              <th>Videojuego</th>
              <th>Puntuacion</th>
              <th>Comentario</th>
            </tr>
          </thead>
          <tbody>
            {% for fila in valoraciones %}
            <tr>
              <td>{{ fila.username }}</td>
              <td><a href="/videojuego/{{ fila.videojuego_id }}" style="color: var(--accent); text-decoration: none; font-weight: 500;">{{ fila.videojuego }}</a></td>
              <td>{{ fila.puntuacion }}</td>
              <td>{{ fila.comentario if fila.comentario else "-" }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <div class="notice">Todavia no hay puntuaciones registradas.</div>
      {% endif %}
    </section>
  </div>
{% endblock %}
